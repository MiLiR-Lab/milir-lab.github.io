---
sidebar_position: 10
title: 网站搭建
---

## 配置 Git

### 设置用户信息

使用 `git config` 命令设置 Git 的用户名和邮箱地址。

<Terminal os="Linux@Milir" tip="使用示例">

```bash
git config --global user.name "你的用户名"
git config --global user.email "你的邮箱地址"
```

<TerminalOutput>

```bash
git config --global user.name "Milir"
git config --global user.email "18179208773@163.com"
```

</TerminalOutput>

</Terminal>

### 生成 SSH 密钥

使用 `ssh-keygen` 命令生成 SSH 密钥对。

<Terminal os="Linux@Milir" tip="使用示例">

```bash
ssh-keygen -t ed25519 -C "你的邮箱地址"
```

<TerminalOutput>

```bash
ssh-keygen -t ed25519 -C "18179208773@163.com"
```

</TerminalOutput>

</Terminal>

出现提示后一直按回车，使用默认选项完成密钥生成。

### 添加 SSH 密钥到 GitHub

使用 `cat` 命令查看生成的公钥内容。

<Terminal os="Linux@Milir" tip="终端输出示例">

```bash
cat ~/.ssh/id_ed25519.pub
```

<TerminalOutput>

```bash
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICv9eKRFLBB6qdKYHa8B1LEOBXUApdCWxbtim58B4EVA 18179208773@163.com
```

</TerminalOutput>

</Terminal>

复制自己终端输出的公钥内容，登录 GitHub 账号，进入 `Settings` 页面。

<img
  src="/img/join-us/github-settings.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

点击 `New SSH key` 按钮。

<img
  src="/img/join-us/github-settings-ssh-keys.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

在 `Title` 输入框中填写密钥名称，在 `Key` 输入框中粘贴公钥内容，点击 `Add SSH key` 按钮完成添加。

<img
  src="/img/join-us/github-settings-ssh-keys-add.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

<img
  src="/img/join-us/github-settings-ssh-keys-succ.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

## Fork 仓库

访问 [MiLiR Lab](https://github.com/MiLiR-Lab/milir-lab.github.io) 仓库页面，点击右上角的 `Fork` 按钮，将该仓库 Fork 到自己的 GitHub 账号下。

<img
  src="/img/join-us/github-repo-fork.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

建议使用默认的仓库名称 `milir-lab.github.io`，然后点击 `Create fork` 按钮完成 Fork 操作。

<img
  src="/img/join-us/github-repo-fork-para.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

Fork 成功后，会自动跳转到 Fork 后的仓库页面。

<img
  src="/img/join-us/github-repo-fork-succ.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

## 拉取源码

复制 Fork 后的仓库地址，使用 `git clone` 命令将源码拉取到本地。

<Terminal os="Linux@Milir" tip="终端输出示例">

```bash
git clone git@github.com:WuMinlong/milir-lab.github.io.git
```

<TerminalOutput>

```
Cloning into 'milir-lab.github.io'...
The authenticity of host 'github.com (20.205.243.166)' can't be established.
ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'github.com' (ED25519) to the list of known hosts.
remote: Enumerating objects: 508, done.
remote: Counting objects: 100% (26/26), done.
remote: Compressing objects: 100% (25/25), done.
remote: Total 508 (delta 0), reused 2 (delta 0), pack-reused 482 (from 1)
Receiving objects: 100% (508/508), 3.03 MiB | 1.17 MiB/s, done.
Resolving deltas: 100% (175/175), done.
```

</TerminalOutput>

</Terminal>

<img
  src="/img/join-us/github-repo-clone.webp"
  style={{width: '100%', maxWidth: '1200px', display: 'block', marginLeft: 'auto', marginRight: 'auto'}}
/>

## 运行网站

### 安装依赖

进入拉取下来的源码目录，使用 `yarn install` 命令安装项目依赖。

<Terminal os="Linux@Milir" tip="终端输出示例">

```bash
cd milir-lab.github.io
yarn install
```

<TerminalOutput>

```
yarn install v1.22.22
(node:2350) [DEP0169] DeprecationWarning: `url.parse()` behavior is not standardized and prone to errors that have security implications. Use the WHATWG URL API instead. CVEs are not issued for `url.parse()` vulnerabilities.
(Use `node --trace-deprecation ...` to show where the warning was created)
warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
[1/5] Validating package.json...
[2/5] Resolving packages...
[3/5] Fetching packages...
[4/5] Linking dependencies...
warning "@docusaurus/core > react-loadable-ssr-addon-v5-slorber@1.0.1" has unmet peer dependency "react-loadable@*".
warning "@docusaurus/preset-classic > @docusaurus/theme-search-algolia > @docsearch/react > @algolia/autocomplete-core > @algolia/autocomplete-plugin-algolia-insights@1.19.2" has unmet peer dependency "search-insights@>= 1 < 3".
warning "@docusaurus/preset-classic > @docusaurus/theme-search-algolia > @docsearch/react > @algolia/autocomplete-core > @algolia/autocomplete-shared@1.19.2" has unmet peer dependency "@algolia/client-search@>= 4.9.1 < 6".
warning " > @easyops-cn/docusaurus-search-local@0.52.1" has unmet peer dependency "@docusaurus/theme-common@^2 || ^3".
[5/5] Building fresh packages...
Done in 114.93s.
```

</TerminalOutput>

</Terminal>

### 启动网站

使用 `yarn start` 命令在本地运行 MiLiR Lab 网站。

<Terminal os="Linux@Milir" tip="终端输出示例">

```bash
yarn start
```

<TerminalOutput>

```
yarn run v1.22.22
$ docusaurus start
[INFO] Starting the development server...
[SUCCESS] Docusaurus website is running at: http://localhost:3000/

✔ Client
  Compiled successfully in 9.44s

client (webpack 5.102.1) compiled successfully
```

</TerminalOutput>

</Terminal>

启动成功后，浏览器会自动访问 `http://localhost:3000/` 网址。

### 编译网站

运行 `yarn build` 命令编译网站，编译会在 `build` 目录下生成静态文件。

<Terminal os="Linux@Milir" tip="终端输出示例">

```bash
yarn build
```

<TerminalOutput>

```
yarn run v1.22.22
$ docusaurus build
[INFO] Website will be built for all these locales:
- zh-Hans
- en
[INFO] [zh-Hans] Creating an optimized production build...

✔ Client
  Compiled successfully in 19.48s

✔ Server



✔ Client
  Compiled successfully in 17.98s

✔ Server


[SUCCESS] Generated static files in "build".
[INFO] [en] Creating an optimized production build...

● Client █████████████████████████ cache (99%) shutdown IdleFileCachePlugin
 stored

✔ Server


[SUCCESS] Generated static files in "build/en".
[INFO] Use `npm run serve` command to test your build locally.
Done in 53.23s.
```

</TerminalOutput>

</Terminal>

### 预览网站

使用 `yarn serve` 命令预览编译后的网站。

<Terminal os="Linux@Milir" tip="终端输出示例">

```bash
yarn serve
```

<TerminalOutput>

```
yarn run v1.22.22
$ docusaurus serve
[SUCCESS] Serving "build" directory at: http://localhost:3000/
```

</TerminalOutput>

</Terminal>

:::tip 访问提示

同一局域网下设备可以访问 `IP:3000` 预览网站。

:::
